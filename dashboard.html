<!DOCTYPE html>
<html lang="th">

<head>
  <script>document.write('\n<div id="site-loader" aria-hidden="false" role="status" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:12px;background:#fff5df;z-index:99999;transition:opacity .35s ease,visibility .35s;">\n  <img src="img/logo_cartoonclub.png" alt="Cartoon Club" style="width:140px;height:auto;margin-bottom:12px;"/>\n  <div style="display:flex;gap:10px;align-items:center;">\n    <span style="width:12px;height:12px;border-radius:50%;background:#c1272d;opacity:.25;display:inline-block;animation:jump 900ms infinite ease-in-out;"></span>\n    <span style="width:12px;height:12px;border-radius:50%;background:#c1272d;opacity:.25;display:inline-block;animation:jump 900ms infinite ease-in-out;animation-delay:120ms;"></span>\n    <span style="width:12px;height:12px;border-radius:50%;background:#c1272d;opacity:.25;display:inline-block;animation:jump 900ms infinite ease-in-out;animation-delay:240ms;"></span>\n  </div>\n  <style>\n    @keyframes jump{0%,80%,100%{transform:translateY(0);opacity:.25}40%{transform:translateY(-10px);opacity:1}}\n    .site-loader-hidden{opacity:0;visibility:hidden;pointer-events:none}\n  </style>\n  <script>\n    (function(){\n      function hide(){var e=document.getElementById(\'site-loader\'); if(!e) return; e.classList.add(\'site-loader-hidden\'); setTimeout(function(){ if(e && e.parentNode) e.parentNode.removeChild(e); },450);}\n      window.hideSiteLoader = hide;\n      window.addEventListener(\'load\', function(){ setTimeout(hide, 150); });\n    })();\n  <\/script>\n</div>\n');</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Admin Dashboard - Cartoon Club MIS">
  <title>Admin Dashboard - Cartoon Club</title>

  <!-- FontAwesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/global.css">

</head>

<body>
  <!-- Dashboard Wrapper -->
  <div class="dashboard-wrapper">
    <!-- Navbar Component -->
    <div id="navbar"></div>

    <!-- Dashboard Content -->
    <div class="dashboard-content">

      <!-- Sidebar Menu (shared admin sidebar component) -->
      <aside class="admin-sidebar sidebar" data-active="dashboard"></aside>

      <!-- Main Content -->
      <main class="main-content">

        <!-- Content Header -->
        <header class="content-header">
          <h1 class="page-title">สรุปผลภาพรวม</h1>
          <button class="year-selector">
            <span>รายปี</span>
            <i class="fas fa-chevron-down"></i>
          </button>
        </header>

        <div class="divider"></div>

        <!-- Stats Row -->
        <section class="stats-row">
          <div class="stat-card">
            <div class="stat-label">รายได้รวม</div>
            <div class="stat-value" data-stat="revenue">-</div>
          </div>

          <div class="stat-card">
            <div class="stat-label">สมาชิกใหม่</div>
            <div class="stat-value" data-stat="members">-</div>
          </div>
        </section>

        <!-- Charts Row -->
        <section class="chart-row">
          <!-- Revenue Trend Chart -->
          <div class="chart-card">
            <h2 class="chart-title">แนวโน้มรายได้</h2>
            <div id="revenueChart" class="chart-placeholder">
              กราฟแนวโน้มรายได้
            </div>
          </div>

          <!-- Package Distribution Chart -->
          <div class="chart-card">
            <h2 class="chart-title">สัดส่วนตามแพ็กเกจ</h2>
            <p class="chart-subtitle">อ้างอิงจากยอดสมาชิกทั้งหมด ณ ปัจจุบัน</p>
            <div id="pieChart" class="chart-placeholder">
              กราฟวงกลม
            </div>
            <div class="legend">
              <div class="legend-item">
                <div class="legend-color" style="background-color: #0d748b;"></div>
                <span class="legend-label">Free</span>
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background-color: #3d3387;"></div>
                <span class="legend-label">Monthly</span>
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background-color: #e1b504;"></div>
                <span class="legend-label">Yearly</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Bottom Section -->
        <section class="bottom-section">

          <!-- Members Section -->
          <div class="members-section">
            <!-- Total Members Card -->
            <div class="stat-card">
              <div class="stat-label">สมาชิกทั้งหมด</div>
              <div class="stat-value" data-stat="total-members">-</div>
            </div>

            <!-- Member List -->
            <div class="member-list">
              <h3 class="member-list-title">รายชื่อสมาชิก</h3>

              <div id="memberList">
                <!-- Members will be rendered here by js/dashboard.js -->
              </div>
            </div>
          </div>

          <!-- Revenue by Package Chart -->
          <div class="chart-card" style="height: 532px;">
            <h2 class="chart-title">รายได้แยกตามแพ็กเกจ</h2>
            <div id="barChart" class="chart-placeholder" style="padding: 0; background: transparent;">
              กราฟแท่ง
            </div>
          </div>

        </section>

      </main>

    </div>

  </div>

  <!-- Footer Component -->
  <div id="footer"></div>
  <!-- Lenis: smooth scroll lib (jsDelivr) -->
  <script src="https://cdn.jsdelivr.net/npm/lenis@1.3.15/dist/lenis.min.js"></script>
  <script type="module" src="js/footer.js"></script>
  <script type="module" src="js/navbar.js"></script>
  <script type="module" src="js/sidebar.js"></script>
  <script type="module" src="js/dashboard.js"></script>

  <!-- Start Reports Calculator (Backend Function) -->
  <!-- Reports Calculator should not auto-start on dashboard.html anymore -->
</body>

</html>